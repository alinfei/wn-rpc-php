<?phpheader("content-type","text/plain;charset=utf-8");error_reporting(E_ALL);//引入Rpc客户端类require_once __DIR__ . '/lib-weinong-rpc/com/weinong/baserpc/WNRpcClient.php';use com\weinong\baserpc\WNRpcClient;//注册命名空间对应的目录，免去了引入文件繁琐操作WNRpcClient::registerDefinition(	array(		array("com",__DIR__ . "/weixinuser-api-bean/")	));//通过IP:Port获取客户端对象$rpcClient = WNRpcClient::getWNRpcClient('YueXiao-PC', 53034,"com\\weinong\\user\\rpc\\api");//打开客户端$rpcClient->open();$api = $rpcClient->getWeixinUserApi();$userInfo = $api->getUserInfo('1');println ("getWeixinUserApi->getUserInfo('1')结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$userInfo = $api->getUserInfoByMobile('13333369025');println ("getWeixinUserApi->getUserInfoByMobile('13333369025')结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$userInfo = $api->getUserDevice(1);println ("getWeixinUserApi->getUserDevice(1)结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$userInfo = $api->getWeixinBindOpenid(2);println ("getWeixinUserApi->getWeixinBindOpenid(2)结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$bool = $api->forbidUser(59);println ("getWeixinUserApi->forbidUser(59)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$bool = $api->allowUser(59);println ("getWeixinUserApi->allowUser(59)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$bool = $api->forbidDevice(404);println ("getWeixinUserApi->forbidDevice(404)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$bool = $api->allowDevice(404);println ("getWeixinUserApi->allowDevice(404)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$bool = $api->unbindDevice(1018);println ("getWeixinUserApi->unbindDevice(1018)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$bool = $api->unbindWeixin(197);println ("getWeixinUserApi->unbindWeixin(197)结果:");println (json_encode($bool,JSON_ZH_CN_PRETTY));$userInfo = $api->getWeixinUserInfoByOpenId('o-Y6-w30ozVehVrDIQ2AWmUU8FlA');println ("getWeixinUserApi->getWeixinUserInfoByOpenId('o-Y6-w30ozVehVrDIQ2AWmUU8FlA')结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$userInfo = $api->updateWeixinBind(3,4);println ("getWeixinUserApi->updateWeixinBind(3,4)结果:");println (json_encode($userInfo,JSON_ZH_CN_PRETTY));$rpcClient->close();